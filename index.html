<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MoreHost – Ultra Legend Pro UI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <!-- CodeMirror -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/hint/show-hint.min.css">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%;background:#000;color:#fff;font-family:Inter,system-ui,Arial,sans-serif;overflow:hidden}
    .stars{position:fixed;inset:0;z-index:-2;background:#000 url('https://www.script-tutorials.com/demos/360/images/stars.png') repeat;animation:spaceMove 160s linear infinite}
    @keyframes spaceMove{from{background-position:0 0}to{background-position:-8000px 4000px}}
    .vignette{position:fixed;inset:-20%;pointer-events:none;z-index:-1;background:radial-gradient(ellipse at center, transparent 60%, rgba(0,0,0,.7) 100%);filter:blur(2px)}
    #loading{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:.6rem;background:#000;z-index:9999}
    #loading .word{display:flex;gap:.15rem;font-weight:800;font-size:2.6rem;letter-spacing:.06em}
    #loading .word span{display:inline-block;animation:flo 2s ease-in-out infinite alternate;color:#00e5ff;text-shadow:0 0 12px #00e5ff,0 0 24px #00e5ff}
    @keyframes flo{from{transform:translateY(0)}to{transform:translateY(-10px)}}
    #loading p{color:#86ffffcc;font-size:.95rem}
    #dashboard{display:none;height:100%;padding:32px;overflow:auto}
    .container{max-width:1100px;margin:0 auto}
    .titleRow{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    .titleRow h1{font-size:1.35rem;font-weight:700;color:#e9fbff}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .subheading{margin:18px 0 10px;color:#c7f9ffcc;font-weight:600}
    .newBox{position:relative;isolation:isolate;height:150px;border-radius:16px;background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.14);display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 10px 40px rgba(0,0,0,.35);overflow:hidden;transition:.2s;backdrop-filter:blur(10px)}
    .newBox:hover{transform:translateY(-2px)}
    .newBox .label{display:flex;flex-direction:column;align-items:center;gap:.35rem}
    .newBox::after{content:"";position:absolute;inset:-30% -60%;background:linear-gradient(120deg,transparent 30%,rgba(255,255,255,.35) 50%,transparent 70%);transform:translateX(-120%);animation:shine 3.2s infinite}
    @keyframes shine{0%{transform:translateX(-120%)}60%{transform:translateX(120%)}100%{transform:translateX(120%)}}
    .projCard{height:120px;border-radius:14px;padding:14px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
    .projCard:hover{background:rgba(255,255,255,.1)}
    #workspace{display:none;height:100%}
    .layout{display:grid;grid-template-columns:230px 1fr;height:100%}
    .sidebar{border-right:1px solid rgba(255,255,255,.1);background:rgba(8,8,12,.65);padding:12px 10px}
    .fileItem{padding:8px;border-radius:8px;margin-bottom:6px;background:#12151b;cursor:pointer;color:#cfefff}
    .fileItem.active{background:#00e5ff;color:#001018;font-weight:800}
    .topbar{display:flex;gap:10px;justify-content:flex-end;padding:10px;background:rgba(10,10,14,.6)}
    .tbBtn{padding:8px 14px;border-radius:10px;cursor:pointer;font-weight:700}
    .editorWrap{flex:1;min-height:0}
    .CodeMirror{height:100%;font-size:14px;background:#1e1e1e;color:#fff}
    #noFileMsg{display:flex;align-items:center;justify-content:center;height:100%;font-size:1.2rem;color:#aaa}
  </style>
</head>
<body>
  <div class="stars"></div><div class="vignette"></div>
  <div id="loading"><div class="word"><span>M</span><span>o</span><span>r</span><span>e</span><span>H</span><span>o</span><span>s</span><span>t</span></div><p>Preparing your space…</p></div>

  <!-- Dashboard -->
  <section id="dashboard">
    <div class="container">
      <div class="titleRow"><h1>Dashboard</h1></div>
      <div class="grid"><div class="newBox" id="newProjectTrigger"><div class="label"><div class="big">NEW PROJECT</div></div></div></div>
      <div class="subheading">Saved Projects</div>
      <div class="grid" id="projectsGrid"></div>
    </div>
  </section>

  <!-- Workspace -->
  <section id="workspace">
    <div class="layout">
      <aside class="sidebar">
        <button id="addFileBtn">+ Add File</button>
        <div id="filesList"></div>
      </aside>
      <div class="main">
        <div class="topbar">
          <button class="tbBtn" id="saveBtn">Save</button>
          <button class="tbBtn" id="previewBtn">Preview</button>
          <button class="tbBtn" id="backBtn">Back</button>
        </div>
        <div class="editorWrap" id="editorWrap">
          <div id="noFileMsg">Please Create a File To write code</div>
        </div>
      </div>
    </div>
  </section>

  <!-- CodeMirror -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/javascript/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/hint/show-hint.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/addon/hint/javascript-hint.min.js"></script>

  <script>
    let projects = JSON.parse(localStorage.getItem("ultraProjects")||"{}");
    let currentProject=null,currentFile=null,editor=null;
    const $=id=>document.getElementById(id);

    window.addEventListener("load",()=>{
      setTimeout(()=>{
        $("loading").style.display="none";
        $("dashboard").style.display="block";
        renderProjects();
      },2000);
    });

    function saveProjects(){localStorage.setItem("ultraProjects",JSON.stringify(projects));}

    $("newProjectTrigger").onclick=()=>{
      const name=prompt("Project name (no spaces)");
      if(!name||/\s/.test(name))return alert("Invalid name");
      projects[name]={};
      saveProjects();openProject(name);
    };

    $("addFileBtn").onclick=()=>{
      const fname=prompt("File name (e.g. script.js)");
      if(!fname)return;
      projects[currentProject][fname]="";
      currentFile=fname;saveProjects();renderFiles();openFile(fname);
    };

    $("saveBtn").onclick=()=>{
      if(!currentFile)return;
      projects[currentProject][currentFile]=editor.getValue();
      saveProjects();alert("Saved!");
    };

    $("backBtn").onclick=()=>{
      $("workspace").style.display="none";
      $("dashboard").style.display="block";
      renderProjects();
    };

    function renderProjects(){
      const g=$("projectsGrid");g.innerHTML="";
      for(const n in projects){
        const c=document.createElement("div");c.className="projCard";c.textContent=n;
        c.onclick=()=>openProject(n);g.appendChild(c);
      }
    }

    function openProject(n){
      currentProject=n;
      $("dashboard").style.display="none";
      $("workspace").style.display="block";
      renderFiles();
      showNoFileMsg();
    }

    function renderFiles(){
      const l=$("filesList");l.innerHTML="";
      for(const f in projects[currentProject]){
        const d=document.createElement("div");
        d.className="fileItem"+(f===currentFile?" active":"");
        d.textContent=f;d.onclick=()=>openFile(f);l.appendChild(d);
      }
    }

    function showNoFileMsg(){
      $("editorWrap").innerHTML="<div id='noFileMsg'>Please Create a File To write code</div>";
      editor=null;currentFile=null;
    }

    function openFile(f){
      currentFile=f;renderFiles();
      $("editorWrap").innerHTML=""; // clear msg
      ensureEditor();
      let val=projects[currentProject][f];
      if(!val&&f.endsWith(".js"))val="// Start Your Coding from here";
      editor.setOption("mode","javascript");
      editor.setValue(val);
      editor.on("inputRead",(cm,e)=>{
        if(e.text[0].match(/[\(\w\.]/))cm.showHint({completeSingle:false});
      });
    }

    function ensureEditor(){
      if(editor)return;
      editor=CodeMirror($("editorWrap"),{
        value:"",
        mode:"javascript",
        lineNumbers:true,
        extraKeys:{"Ctrl-Space":"autocomplete"}
      });
    }
  </script>
</body>
</html>
